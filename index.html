<!DOCTYPE html>
<html lang="tl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MP2 Contribution & Retirement Simulator</title>
  <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600&display=swap" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body {
      font-family: 'Quicksand', sans-serif;
      background-color: #fef6fb;
      color: #5c4b51;
      padding: 20px;
    }
    h2, h3 {
      color: #a678b4;
      text-align: center;
    }
    .container {
      display: flex;
      flex-direction: column;
      gap: 20px;
    }
    .panel {
      background-color: #fff8fc;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.05);
    }
    .toggle {
      background-color: #d8b4e2;
      color: #4b3b47;
      padding: 10px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-weight: bold;
      margin-bottom: 10px;
    }
    .content {
      display: none;
      animation: fadeIn 0.3s ease-in-out;
    }
    @keyframes fadeIn {
      from {opacity: 0;}
      to {opacity: 1;}
    }
    input, select, button {
      width: 100%;
      margin-bottom: 12px;
      padding: 10px;
      border-radius: 8px;
      border: 1px solid #e0cfe0;
      font-size: 14px;
    }
    button {
      background-color: #d8b4e2;
      color: #4b3b47;
      cursor: pointer;
    }
    button:hover {
      background-color: #caa0d6;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 10px;
      font-size: 13px;
    }
    th, td {
      border: 1px solid #f0e0f5;
      padding: 6px;
      text-align: center;
    }
    th {
      background-color: #f3d9fa;
    }
    footer {
      text-align: center;
      margin-top: 40px;
      font-size: 14px;
      color: #a678b4;
    }
    hr {
      border: none;
      height: 2px;
      background: linear-gradient(to right, #f3d9fa, #ffe4f0);
      margin: 30px 0;
    }
  </style>
</head>
<body>
  <h2>MP2 Contribution & Retirement Simulator</h2>
  <p style="text-align:center; font-size:16px; color:#5c4b51; margin-top:-10px; line-height:1.6;">
    Kabayan, this simulator is designed to be simple, visual, and emotionally positive helping you feel confident and joyful about your financial future. üíñ<br><br>
    If you're new to saving or have never heard of <strong>Pag-IBIG MP2</strong>, don't worry you're in the right place. MP2 is a government-backed savings program in the Philippines that lets you grow your money safely with higher dividends than regular savings accounts. You can contribute monthly, earn annual dividends, and choose whether to reinvest or withdraw your earnings.<br><br>
    This tool helps you explore how your money can grow over time. Whether you're saving for retirement, a dream home, your children's future, or simply want peace of mind, this simulator will guide you step by step. No financial background needed just your goals, your timeline, and your hope for a better tomorrow. üå±<br><br>
    Every peso you save is a seed of possibility. With consistency, clarity, and courage, you can build a future that feels secure, beautiful, and free. Financial freedom isn‚Äôt just about numbers it‚Äôs about choices, dignity, and joy. You deserve that. üå∏<br><br>
    Let this be your starting point. Explore, plan, and dream boldly. Your journey to abundance begins here and you‚Äôre not alone.<br><br>
    Created with care by <strong>Giesel Cornel</strong> empowering you to build a life of purpose, peace, and prosperity.
  </p>

  <div class="container">

    <!-- üéØ FUND GOAL PLANNER -->
    <div class="panel">
      <button class="toggle" onclick="toggleSection('fundGoal')">üéØ Fund Goal Planner</button>
      <div class="content" id="fundGoal">
        <p><strong>Para saan ito?</strong> Gusto mong malaman kung magkano ang dapat mong ihulog buwan-buwan para maabot ang target fund mo sa loob ng ilang taon.</p>
        <label>üéØ Target Fund (‚Ç±):</label>
        <input type="text" id="goalAmount" value="500000" />
        <label>‚è≥ Duration (Taon):</label>
        <select id="duration">
          <option value="5">5</option>
          <option value="10">10</option>
          <option value="15">15</option>
          <option value="20">20</option>
        </select>
        <label>üìà Annual Interest Rate (%):</label>
        <input type="number" id="fixedRate" value="6.5" step="0.1" />
        <label>üíº Dividend Option:</label>
        <select id="reinvest">
          <option value="true">Reinvest (Compounded)</option>
          <option value="false">Payout (No Compounding)</option>
        </select>
        <button onclick="calculateRequiredMonthly()">üßÆ I-compute ang Monthly Contribution</button>
        <div id="result"></div>
        <div id="chartContainer"><canvas id="growthChart"></canvas></div>
      </div>
    </div>
    <hr />

    <!-- üí∏ MONTHLY DIVIDEND GOAL PLANNER -->
    <div class="panel">
      <button class="toggle" onclick="toggleSection('monthlyDividend')">üí∏ Monthly Dividend Goal Planner</button>
      <div class="content" id="monthlyDividend">
        <p><strong>Para saan ito?</strong> Gusto mong kumita ng ‚Ç±X kada buwan mula sa MP2 dividends?</p>
        <label>üí∞ Target Monthly Dividend (‚Ç±):</label>
        <input type="text" id="monthlyDividendGoal" value="2000" />
        <label>üìà Annual Interest Rate (%):</label>
        <input type="number" id="monthlyRate" value="6.5" step="0.1" />
        <button onclick="calculateMonthlyDividendLumpSum()">üßÆ I-compute ang Required Lump Sum</button>
        <div id="lumpSumResult"></div>
      </div>
    </div>
    <hr />

    <!-- üìà SAVINGS PROJECTION PLANNER -->
    <div class="panel">
      <button class="toggle" onclick="toggleSection('savingsProjection')">üìà Savings Projection Planner</button>
      <div class="content" id="savingsProjection">
        <p><strong>Para saan ito?</strong> Gusto mong malaman kung gaano kalaki ang magiging ipon mo kung maghuhulog ka ng ‚Ç±X kada buwan sa loob ng ilang taon.</p>
        <label>üíµ Monthly Savings (‚Ç±):</label>
        <input type="text" id="monthlySavings" value="3000" />
        <label>üìà Annual Interest Rate (%):</label>
        <input type="number" id="savingsRate" value="6.5" step="0.1" />
        <label>‚è≥ Duration (Taon):</label>
        <select id="savingsDuration">
          <option value="5">5</option>
          <option value="10">10</option>
          <option value="15">15</option>
          <option value="20">20</option>
        </select>
        <button onclick="calculateSavingsProjection()">üßÆ I-compute ang Projection</button>
        <div id="savingsProjectionResult"></div>
      </div>
    </div>
<!-- ü™ô LUMP SUM EARNINGS SIMULATOR -->
<div class="panel">
  <button class="toggle" onclick="toggleSection('lumpSumEarnings')">ü™ô Lump Sum Earnings Simulator</button>
  <div class="content" id="lumpSumEarnings">
    <p><strong>Para saan ito?</strong> Gusto mong malaman kung gaano kalaki ang kikitain mo kung mag-iinvest ka ng lump sum (isang bagsakan o taunang hulog).</p>
    <label>üí∞ Lump Sum Amount (‚Ç±):</label>
    <input type="text" id="lumpSumAmount" value="100000" />
    <label>üìÖ Contribution Type:</label>
    <select id="lumpSumType">
      <option value="oneTime">One-Time Lump Sum</option>
      <option value="annual">Annual Lump Sum</option>
    </select>
    <label>‚è≥ Duration (Taon):</label>
    <select id="lumpSumDuration">
      <option value="5">5</option>
      <option value="10">10</option>
      <option value="15">15</option>
      <option value="20">20</option>
    </select>
    <label>üìà Annual Interest Rate (%):</label>
    <input type="number" id="lumpSumRate" value="6.5" step="0.1" />
    <label>üíº Dividend Option:</label>
    <select id="lumpSumReinvest">
      <option value="true">Reinvest (Compounded)</option>
      <option value="false">Payout (No Compounding)</option>
    </select>
    <button onclick="calculateLumpSumEarnings()">üßÆ I-compute ang Earnings</button>
    <div id="lumpSumEarningsResult"></div>
  </div>
</div>



<hr />
    <hr />
 <!-- üìò SUMMARY PANEL -->
    <div class="panel">
      <h3 style="text-align:center; color:#a678b4;">üìò Kabuuang Buod ng Iyong MP2 Planner</h3>
      <p style="text-align:center;">Results summary. Pwede mo itong i-copy at i-save sa Notes, Messenger, o kahit saan sa phone mo.</p>
      <div id="summaryContent" style="line-height:1.6;"></div>
      <div style="text-align:center; margin-top:20px;">
        <button onclick="copySummary()">üìã Copy Summary to Clipboard</button>
        <p id="copyStatus" style="color:green; font-size:13px; margin-top:10px;"></p>
      </div>
    </div>

    <hr />

    <!-- ‚ö†Ô∏è DISCLAIMER + FOOTER -->
    <footer>
      <p style="font-size:14px; color:#a678b4; text-align:center; margin-bottom:10px;">
        Created with care by <strong>Giesel Cornel</strong> &copy; 2025.V2.2
      </p>
      <p style="font-size:13px; color:#8c6c9e; text-align:center;">
        <strong>Disclaimer:</strong> This simulator is intended for educational and personal planning purposes only. It does not constitute professional financial advice. For personalized guidance, please consult a licensed financial advisor or your trusted financial institution.
      </p>
    </footer>
  </div> <!-- Close container -->

  <!-- üîß SCRIPT LOGIC -->
  <script>
    let chartInstance = null;

    function toggleSection(id) {
      const section = document.getElementById(id);
      section.style.display = section.style.display === "none" || section.style.display === "" ? "block" : "none";
    }

    function formatInputWithCommas(inputId) {
      const input = document.getElementById(inputId);
      input.addEventListener("input", function () {
        let value = input.value.replace(/,/g, "");
        if (!isNaN(value) && value !== "") {
          input.value = parseInt(value).toLocaleString();
        }
      });
    }

    window.onload = function () {
      formatInputWithCommas("goalAmount");
      formatInputWithCommas("monthlyDividendGoal");
      formatInputWithCommas("monthlySavings");
      formatInputWithCommas("lumpSumAmount");

    };

    function calculateMonthlyDividendLumpSum() {
      const monthlyGoal = parseFloat(document.getElementById("monthlyDividendGoal").value.replace(/,/g, "")) || 0;
      const annualRate = parseFloat(document.getElementById("monthlyRate").value) || 0;
      const annualGoal = monthlyGoal * 12;
      const r = annualRate / 100;
      if (r === 0) {
        document.getElementById("lumpSumResult").innerHTML = "<p style='color:red;'>‚ö†Ô∏è Interest rate must be greater than 0.</p>";
        return;
      }
      const lumpSum = Math.round(annualGoal / r);
      const result = `
        <h4>üí∏ Monthly Dividend Goal Result</h4>
        <p>To earn ‚Ç±${monthlyGoal.toLocaleString()} per month at ${annualRate.toFixed(1)}% annual interest, you need to save <strong>‚Ç±${lumpSum.toLocaleString()}</strong>.</p>
        <table>
          <tr><th>Monthly Goal</th><th>Annual Target</th><th>Required Lump Sum</th></tr>
          <tr>
            <td>‚Ç±${monthlyGoal.toLocaleString()}</td>
            <td>‚Ç±${annualGoal.toLocaleString()}</td>
            <td>‚Ç±${lumpSum.toLocaleString()}</td>
          </tr>
        </table>
      `;
      document.getElementById("lumpSumResult").innerHTML = result;
      updateSummaryPanel();
    }

    function calculateSavingsProjection() {
      const monthly = parseFloat(document.getElementById("monthlySavings").value.replace(/,/g, "")) || 0;
      const rate = parseFloat(document.getElementById("savingsRate").value) || 0;
      const years = parseInt(document.getElementById("savingsDuration").value);
      let fund = 0, totalContribution = 0, totalDividend = 0;

      for (let y = 0; y < years; y++) {
        for (let m = 0; m < 12; m++) {
          fund += monthly;
          totalContribution += monthly;
        }
        const dividend = fund * (rate / 100);
        fund += dividend;
        totalDividend += dividend;
      }

      const summary = `After saving ‚Ç±${monthly.toLocaleString()} monthly for ${years} years, your fund will grow to <strong>‚Ç±${Math.round(fund).toLocaleString()}</strong> including ‚Ç±${Math.round(totalDividend).toLocaleString()} in dividends.`;

      document.getElementById("savingsProjectionResult").innerHTML = `
        <h4>üìà Savings Projection Result</h4>
        <p>${summary}</p>
        <table>
          <tr><th>Monthly</th><th>Years</th><th>Invested</th><th>Dividends</th><th>Total</th></tr>
          <tr>
            <td>‚Ç±${monthly.toLocaleString()}</td>
            <td>${years}</td>
            <td>‚Ç±${Math.round(totalContribution).toLocaleString()}</td>
            <td>‚Ç±${Math.round(totalDividend).toLocaleString()}</td>
            <td>‚Ç±${Math.round(fund).toLocaleString()}</td>
          </tr>
        </table>
      `;
      updateSummaryPanel();
    }

    function calculateRequiredMonthly() {
      const goal = parseFloat(document.getElementById("goalAmount").value.replace(/,/g, "")) || 0;
      const duration = parseInt(document.getElementById("duration").value);
      const reinvest = document.getElementById("reinvest").value === "true";
      const rate = parseFloat(document.getElementById("fixedRate").value) || 0;

      let monthly = 0;
      let totalContribution = 0;
      let totalDividend = 0;

      if (reinvest) {
        let low = 0, high = goal * 2;
        for (let i = 0; i < 100; i++) {
          monthly = (low + high) / 2;
          let fund = 0;
          totalContribution = 0;
          totalDividend = 0;

          for (let y = 0; y < duration; y++) {
            for (let m = 0; m < 12; m++) {
              fund += monthly;
              totalContribution += monthly;
            }
            const dividend = fund * (rate / 100);
            fund += dividend;
            totalDividend += dividend;
          }

          if (fund < goal) low = monthly;
          else high = monthly;
        }
      } else {
        const totalMonths = duration * 12;
        monthly = goal / totalMonths;
        totalContribution = monthly * totalMonths;
        totalDividend = 0;
      }

      const summary = `To reach ‚Ç±${goal.toLocaleString()} in ${duration} years, you need to save <strong>‚Ç±${Math.round(monthly).toLocaleString()}</strong> monthly.`;

      document.getElementById("result").innerHTML = `
        <h4>üéØ Fund Goal Result</h4>
        <p>${summary}</p>
        <table>
          <tr><th>Goal</th><th>Years</th><th>Monthly</th><th>Invested</th><th>Dividends</th></tr>
          <tr>
            <td>‚Ç±${goal.toLocaleString()}</td>
            <td>${duration}</td>
            <td>‚Ç±${Math.round(monthly).toLocaleString()}</td>
            <td>‚Ç±${Math.round(totalContribution).toLocaleString()}</td>
            <td>‚Ç±${Math.round(totalDividend).toLocaleString()}</td>
          </tr>
        </table>
      `;
      simulateChartFromMonthly(monthly, Math.min(duration, 5), rate, reinvest);
      updateSummaryPanel();
    }

    function simulateChartFromMonthly(monthly, duration, rate, reinvest) {
      let fund = 0;
      const labels = [];
      const contributions = [];
      const dividends = [];
      const cumulative = [];

      for (let y = 0; y < duration; y++) {
        for (let m = 0; m < 12; m++) {
          fund += monthly;
          contributions.push(monthly);
          labels.push(`Y${y + 1}M${m + 1}`);
          if (reinvest && m === 11) {
            const dividend = fund * (rate / 100);
            dividends.push(dividend);
            fund += dividend;
          } else {
            dividends.push(0);
          }
          cumulative.push(fund);
        }
      }

      if (chartInstance) chartInstance.destroy();
      const ctx = document.getElementById("growthChart").getContext("2d");
 chartInstance = new Chart(ctx, {
        type: "bar",
        data: {
          labels: labels,
          datasets: [
            {
              label: "Monthly Contribution (‚Ç±)",
              data: contributions,
              backgroundColor: "rgba(128, 0, 128, 0.6)",
              stack: "stack1"
            },
            {
              label: "Dividend Earned (‚Ç±)",
              data: dividends,
              backgroundColor: "rgba(255, 160, 122, 0.6)",
              stack: "stack1"
            },
            {
              label: "Cumulative Fund Value (‚Ç±)",
              data: cumulative,
              backgroundColor: "rgba(255, 182, 193, 0.6)",
              stack: "stack2"
            }
          ]
        },
        options: {
          responsive: true,
          scales: {
            x: { stacked: true },
            y: { stacked: true, beginAtZero: true }
          },
          plugins: {
            legend: { position: "bottom" }
          }
        }
      });
    }

  function updateSummaryPanel() {
  const fundGoal = document.getElementById("result").innerText.trim();
  const dividendGoal = document.getElementById("lumpSumResult").innerText.trim();
  const savingsProjection = document.getElementById("savingsProjectionResult").innerText.trim();
  const lumpSumEarnings = document.getElementById("lumpSumEarningsResult").innerText.trim();

  document.getElementById("summaryContent").innerText =
    "üéØ Fund Goal Planner:\n" + fundGoal + "\n\n" +
    "üí∏ Monthly Dividend Goal Planner:\n" + dividendGoal + "\n\n" +
    "üìà Savings Projection Planner:\n" + savingsProjection + "\n\n" +
    "ü™ô Lump Sum Earnings Simulator:\n" + lumpSumEarnings;
}
    function copySummary() {
      const content = document.getElementById("summaryContent").innerText;
      navigator.clipboard.writeText(content).then(() => {
        document.getElementById("copyStatus").innerText = "‚úÖ Summary copied! You can now paste it anywhere.";
        setTimeout(() => {
          document.getElementById("copyStatus").innerText = "";
        }, 4000);
      });
    }
   function calculateLumpSumEarnings() {
  const amount = parseFloat(document.getElementById("lumpSumAmount").value.replace(/,/g, "")) || 0;
  const type = document.getElementById("lumpSumType").value;
  const years = parseInt(document.getElementById("lumpSumDuration").value);
  const rate = parseFloat(document.getElementById("lumpSumRate").value) || 0;
  const reinvest = document.getElementById("lumpSumReinvest").value === "true";

  let fund = 0, totalContribution = 0, totalDividend = 0;
  const breakdown = [];

  for (let y = 0; y < years; y++) {
    let startFund = fund;
    let contribution = 0;

    if (type === "annual") {
      fund += amount;
      contribution = amount;
      totalContribution += amount;
    } else if (type === "oneTime" && y === 0) {
      fund += amount;
      contribution = amount;
      totalContribution += amount;
    }

    const dividend = fund * (rate / 100);
    totalDividend += dividend;
    if (reinvest) fund += dividend;

    breakdown.push({
      year: y + 1,
      startFund: Math.round(startFund),
      contribution: Math.round(contribution),
      dividend: Math.round(dividend),
      endFund: Math.round(fund)
    });
  }

  const total = Math.round(fund);
  let tableRows = breakdown.map(row => `
    <tr>
      <td>${row.year}</td>
      <td>‚Ç±${row.startFund.toLocaleString()}</td>
      <td>‚Ç±${row.contribution.toLocaleString()}</td>
      <td>‚Ç±${row.dividend.toLocaleString()}</td>
      <td>‚Ç±${row.endFund.toLocaleString()}</td>
    </tr>
  `).join("");

  const result = `
    <h4>ü™ô Lump Sum Earnings Result</h4>
    <p>After ${years} years, your lump sum investment will grow to <strong>‚Ç±${total.toLocaleString()}</strong> including ‚Ç±${Math.round(totalDividend).toLocaleString()} in dividends.</p>
    <table>
      <tr><th>Year</th><th>Start Fund</th><th>Contribution</th><th>Dividend</th><th>End Fund</th></tr>
      ${tableRows}
    </table>
  `;
  document.getElementById("lumpSumEarningsResult").innerHTML = result;
  updateSummaryPanel();
}
  </script>
</body>
</html>

